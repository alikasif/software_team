{
  "project": "splitwise-mvp",
  "version": 1,
  "tasks": [
    {
      "id": "T1",
      "title": "Scaffold project structure",
      "agent": "project-structure-subagent",
      "status": "done",
      "blocked_by": [],
      "outputs": [
        "shared/project_structure.json"
      ]
    },
    {
      "id": "T2",
      "title": "Design schema and migrations",
      "agent": "database",
      "status": "done",
      "blocked_by": [
        "T1"
      ],
      "outputs": [
        "db schema",
        "migration files"
      ]
    },
    {
      "id": "T3",
      "title": "Implement auth and user profile APIs",
      "agent": "python-coder",
      "status": "todo",
      "blocked_by": [
        "T2"
      ],
      "outputs": [
        "auth endpoints",
        "user profile endpoints"
      ]
    },
    {
      "id": "T4",
      "title": "Implement groups and membership APIs",
      "agent": "python-coder",
      "status": "todo",
      "blocked_by": [
        "T3"
      ],
      "outputs": [
        "group endpoints",
        "membership endpoints"
      ]
    },
    {
      "id": "T5",
      "title": "Build split engine (equal/percentage/exact)",
      "agent": "python-coder",
      "status": "todo",
      "blocked_by": [
        "T2"
      ],
      "outputs": [
        "split service",
        "validation rules"
      ]
    },
    {
      "id": "T6",
      "title": "Implement expense creation with ledger + idempotency",
      "agent": "python-coder",
      "status": "todo",
      "blocked_by": [
        "T4",
        "T5"
      ],
      "outputs": [
        "expense create endpoint",
        "ledger write flow",
        "idempotency handling",
        "shared/api/openapi.yaml"
      ]
    },
    {
      "id": "T7",
      "title": "Implement balances and settle-up APIs",
      "agent": "python-coder",
      "status": "todo",
      "blocked_by": [
        "T6"
      ],
      "outputs": [
        "balances endpoint",
        "settle-up endpoint",
        "shared/api/openapi.yaml"
      ]
    },
    {
      "id": "T8",
      "title": "Implement history endpoints",
      "agent": "python-coder",
      "status": "todo",
      "blocked_by": [
        "T6",
        "T7"
      ],
      "outputs": [
        "group expense history",
        "user transaction history"
      ]
    },
    {
      "id": "T9",
      "title": "Database correctness and performance tests",
      "agent": "database-test",
      "status": "todo",
      "blocked_by": [
        "T7"
      ],
      "outputs": [
        "transaction/locking tests",
        "index/query validation"
      ]
    },
    {
      "id": "T10",
      "title": "Backend unit/integration/concurrency tests",
      "agent": "python-test",
      "status": "todo",
      "blocked_by": [
        "T8"
      ],
      "notes": "Unit/integration/concurrency test suite scaffold added with xfail expectations; pending implementation of split, expenses, balances, settlements, and history logic/endpoints.",
      "outputs": [
        "test suite for API and split logic"
      ]
    },
    {
      "id": "T11",
      "title": "Documentation and runbook",
      "agent": "documentation",
      "status": "done",
      "blocked_by": [
        "T10"
      ],
      "outputs": [
        "README updates",
        "API usage docs",
        "consistency/concurrency notes"
      ]
    },
    {
      "id": "R1",
      "title": "Backend review",
      "agent": "backend-reviewer",
      "status": "todo",
      "blocked_by": [
        "T8"
      ],
      "watch_tasks": [
        "T3",
        "T4",
        "T5",
        "T6",
        "T7",
        "T8"
      ]
    },
    {
      "id": "R2",
      "title": "Database review",
      "agent": "database-reviewer",
      "status": "blocked",
      "note": "2026-02-15: Blocked pending T2 and T9 completion. No concrete DB schema tables/models beyond Base, no Alembic revisions in db/migrations/versions (only .gitkeep), Alembic env target_metadata is None, and tests/concurrency|integration|unit contain only .gitkeep. Remediate by implementing schema models with PK/FK/UNIQUE/CHECK constraints and required indexes, wiring Alembic metadata + creating/reviewing initial revisions, and adding DB correctness/performance tests (transactions/locking/idempotency/index-query validation).",
      "blocked_by": [
        "T9"
      ],
      "watch_tasks": [
        "T2",
        "T9"
      ]
    },
    {
      "id": "R3",
      "title": "Architecture review",
      "agent": "architecture-reviewer",
      "status": "todo",
      "blocked_by": [
        "T8"
      ],
      "watch_tasks": [
        "T2",
        "T3",
        "T4",
        "T5",
        "T6",
        "T7",
        "T8"
      ]
    },
    {
      "id": "G1",
      "title": "Periodic GitHub sync",
      "agent": "github-subagent",
      "status": "todo",
      "note": "2026-02-15: fetch/push to origin succeeded; pull --rebase blocked by unstaged local changes in working tree. Full sync not completed.",
      "blocked_by": [
        "T1"
      ],
      "outputs": [
        "periodic pushes",
        "sync status"
      ]
    }
  ]
}
